import{_ as a,c as i,o as t,ak as p}from"./chunks/framework.CmzJUe0_.js";const l="/assets/blog_20250314174806.92BLATsF.png",n="/assets/blog_20250314175044.CX1NIIoR.png",_=JSON.parse('{"title":"微信小程序https访问","description":"","frontmatter":{"title":"微信小程序https访问","date":"2025-03-14T00:00:00.000Z","sidebar":"auto","categories":["随笔"],"tags":["微信小程序"]},"headers":[],"relativePath":"blogs/随笔/微信小程序https访问.md","filePath":"blogs/随笔/微信小程序https访问.md"}'),e={name:"blogs/随笔/微信小程序https访问.md"};function h(o,s,k,r,d,c){return t(),i("div",null,s[0]||(s[0]=[p('<p>[toc]</p><h1 id="微信小程序的https访问" tabindex="-1">微信小程序的https访问 <a class="header-anchor" href="#微信小程序的https访问" aria-label="Permalink to &quot;微信小程序的https访问&quot;">​</a></h1><p>微信小程序在生产环境中必须使用 HTTPS 协议，并且需要配置有效的 SSL 证书。</p><p>当我们部署好后台服务，但是在微信小程序中调用htpps接口的时候，缺报错。</p><blockquote><p>解决方法</p></blockquote><ol><li>需要先在微信公众平台中对该小程序设置服务器域名</li></ol><p><img src="'+l+'" alt="blog_20250314174806.png"></p><ol start="2"><li>在后台服务部署的服务器中，找到域名证书。下载下来，放到后台工程的resources目录中。</li></ol><p><img src="'+n+`" alt="blog_20250314175044.png"></p><ol start="3"><li>如果后台打包方式是jar包，即tomcat是内置在jar包中的时候。那么我们需要给后台接口添加SSL配置项。</li></ol><div class="language-yml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">38999</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 此处的ssl配置 用于进行https访问，否则https无法访问后端接口</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # domain.pfx ssl证书需要去线上服务器中找。 证书域名是 www.xiedajia.com</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ssl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key-store</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">classpath:domain.pfx</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key-store-type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">PKCS12</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key-store-password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">3bo5exs1</span></span></code></pre></div><ol start="4"><li>如果后台打包方式是war包，即后台服务和tomcat服务器分离开的。那么需要先把证书安装到tomcat服务器中。然后再把后台服务器在部署到tomcat服务器里面。</li></ol>`,12)]))}const E=a(e,[["render",h]]);export{_ as __pageData,E as default};
