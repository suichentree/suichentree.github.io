import{_ as i}from"./chunks/unraid_20230531224932.D12zVyje.js";import{_ as l,c as o,o as r,ak as t}from"./chunks/framework.CmzJUe0_.js";const e="/assets/unraid_20230615144241.DIQT9tc0.png",n="/assets/unraid_20230531222255.DQtWmOsP.png",s="/assets/unraid_20230531212334.j2CtRt1H.png",p="/assets/unraid_20230531211658.C5hiwJBZ.png",d="/assets/unraid_20230531213614.B3gpJvAT.png",u="/assets/unraid_20230531215348.CSUHFD31.png",c="/assets/unraid_20230531220702.5adnTY0M.png",h="/assets/unraid_20230608231611.BmI4Vks3.png",m="/assets/unraid_20230615212420.Cri5esbr.png",_="/assets/unraid_20230615212556.ApUpblZo.png",g="/assets/unraid_20230623203035.BMGnonHC.png",b="/assets/unraid_20230623205548.CvPMzCfh.png",q="/assets/unraid_20230623205941.D24xs4uw.png",N=JSON.parse('{"title":"unraid笔记2-系统配置","description":"","frontmatter":{"title":"unraid笔记2-系统配置","date":"2023-05-31T00:00:00.000Z","sidebar":"auto","categories":["NAS"],"tags":["unraid"]},"headers":[],"relativePath":"blogs/NAS/unraid笔记2-系统配置.md","filePath":"blogs/NAS/unraid笔记2-系统配置.md"}'),f={name:"blogs/NAS/unraid笔记2-系统配置.md"};function k(P,a,x,y,S,A){return r(),o("div",null,a[0]||(a[0]=[t('<p>[toc]</p><h1 id="unraid笔记2-系统配置" tabindex="-1">unraid笔记2-系统配置 <a class="header-anchor" href="#unraid笔记2-系统配置" aria-label="Permalink to &quot;unraid笔记2-系统配置&quot;">​</a></h1><h2 id="修改服务器名称" tabindex="-1">修改服务器名称 <a class="header-anchor" href="#修改服务器名称" aria-label="Permalink to &quot;修改服务器名称&quot;">​</a></h2><p><img src="'+e+'" alt="unraid_20230615144241.png"></p><h2 id="安装基础插件" tabindex="-1">安装基础插件 <a class="header-anchor" href="#安装基础插件" aria-label="Permalink to &quot;安装基础插件&quot;">​</a></h2><p>由于unraid系统的插件和docker有很多都在github等国外网站上。因此在unraid服务器无法科学上网的情况下。安装插件和docker经常会失败。</p><p>解决方法：修改unraid系统的hosts文件,添加国内的镜像源,安装加速插件等</p><blockquote><p>如何安装插件？ unraid系统安装插件有两种方法。 1: 在插件界面，输入插件的链接地址。点击安装即可。 2: 在应用界面，先安装应用市场插件，然后就可以在应用市场种下载插件进行安装了。</p></blockquote><h3 id="unraid-modify插件" tabindex="-1">unraid modify插件 <a class="header-anchor" href="#unraid-modify插件" aria-label="Permalink to &quot;unraid modify插件&quot;">​</a></h3><p>unraid modify插件可以修改unraid系统的hosts文件来加快Docker，应用市场的加载速度。</p><p>插件地址：<code>http://plg.unraid.site:8/plg/UNRAID_Modify.plg</code></p><blockquote><p>如何安装插件？ 插件界面-&gt;安装插件-》输入插件地址-》点击安装按钮</p></blockquote><h3 id="community-applications-插件" tabindex="-1">Community Applications 插件 <a class="header-anchor" href="#community-applications-插件" aria-label="Permalink to &quot;Community Applications 插件&quot;">​</a></h3><p>你只有安装了应用市场插件,才能下载其余的插件.</p><p>插件地址：<code>https://raw.githubusercontent.com/Squidly271/community.applications/master/plugins/community.applications.plg</code></p><h3 id="简体中文插件" tabindex="-1">简体中文插件 <a class="header-anchor" href="#简体中文插件" aria-label="Permalink to &quot;简体中文插件&quot;">​</a></h3><ol><li>当安装好应用市场插件后,在应用界面搜索简体中文插件安装.</li><li>设置-&gt;显示设置-&gt;语言选择简体中文即可.</li><li>浏览器刷新页面,就会显示中文界面了.</li></ol><p><img src="'+i+'" alt="unraid_20230531224932.png"></p><h2 id="新建用户" tabindex="-1">新建用户 <a class="header-anchor" href="#新建用户" aria-label="Permalink to &quot;新建用户&quot;">​</a></h2><p>Unraid安装完成后，系统默认只有root用户。 因为root用户拥有最高权限，可以控制整个系统，密码泄露出去会带来安全隐患，所以为了安全考虑，需要新建一个或多个用户。</p><p>USER界面,点击 ADD USER ，设置用户名、描述、头像、密码，点击 ADD按钮即可创建用户。</p><span style="color:red;"> 注意：unraid web管理界面只能用root账户登录。其他用户是给smb和docker使用的。 </span><h3 id="设置用于对共享文件夹的访问权限" tabindex="-1">设置用于对共享文件夹的访问权限 <a class="header-anchor" href="#设置用于对共享文件夹的访问权限" aria-label="Permalink to &quot;设置用于对共享文件夹的访问权限&quot;">​</a></h3><p>当创建好共享文件夹后，可以设置用户对共享文件夹的权限。</p><p>用户界面-》选择某个用户 <img src="'+n+'" alt="unraid_20230531222255.png"></p><h2 id="设置为静态ip" tabindex="-1">设置为静态ip <a class="header-anchor" href="#设置为静态ip" aria-label="Permalink to &quot;设置为静态ip&quot;">​</a></h2><p>Unraid 默认自动获取 IP 地址，由路由器自动分配，这个 IP 地址是会变化的，最好将其设置为静态，使用固定的 IP 地址，方便后续的各种系统配置和应用软件配置。</p><p>设置-》网络设置-》修改ipv4分配模式为静态-》点击应用按钮即可</p><h2 id="修改系统时区信息" tabindex="-1">修改系统时区信息 <a class="header-anchor" href="#修改系统时区信息" aria-label="Permalink to &quot;修改系统时区信息&quot;">​</a></h2><p>设置-》日期和时间-》时区选择 (UTC +8:00)beijing时区</p><p>NTP服务器推荐如下：</p><ul><li>ntp1.aliyun.com 阿里云NTP</li><li>time.apple.com 苹果NTP</li></ul><h2 id="开机自动启动阵列" tabindex="-1">开机自动启动阵列 <a class="header-anchor" href="#开机自动启动阵列" aria-label="Permalink to &quot;开机自动启动阵列&quot;">​</a></h2><p>SETTINGS -&gt; Disk Setting -&gt; Enable auto start 选中Yes，点击下方Apply保存设置。这样就不用每次重启点一下启动阵列。</p><h2 id="添加磁盘到阵列中" tabindex="-1">添加磁盘到阵列中 <a class="header-anchor" href="#添加磁盘到阵列中" aria-label="Permalink to &quot;添加磁盘到阵列中&quot;">​</a></h2><ol><li>在主界面先停止磁盘阵列（若有磁盘阵列正在运行）</li><li>磁盘阵列停止后，选择一个硬盘添加到阵列中</li><li>点击格式化按钮，对磁盘进行格式化。只有格式化后的硬盘才能被系统使用。</li><li>然后点击启动按钮，开始运行磁盘阵列</li><li>这样一个新的硬盘就添加到磁盘阵列中了。</li></ol><p>停止磁盘阵列的界面： <img src="'+s+'" alt="unraid_20230531212334.png"> 开启磁盘阵列的界面： <img src="'+p+'" alt="unraid_20230531211658.png"></p><p><span style="color:red;">磁盘只有格式化后才能显示具体信息。没有被格式化的磁盘无法被unraid系统使用。</span></p><h2 id="创建共享文件夹" tabindex="-1">创建共享文件夹 <a class="header-anchor" href="#创建共享文件夹" aria-label="Permalink to &quot;创建共享文件夹&quot;">​</a></h2><p>在磁盘添加到阵列后，就可以共享界面创建共享文件夹了。</p><p>Unraid系统默认自动创建4个共享文件夹：</p><ul><li>appdata 默认存放App/Docker配置文件config的内容</li><li>domains 默认存放虚拟机的磁盘映像</li><li>isos 在安装虚拟机时用来上传系统安装镜像的目录</li><li>system 存放Unraid系统文件，VM模板，Docker映像</li></ul><p>选择添加共享按钮，填写名称，包含磁盘，不包含磁盘，其余默认配置，点击添加共享按钮即可创建一个共享文件夹</p><p>具体的详细的共享文件夹配置，会在另一个文章中详细描写。</p><p><img src="'+d+'" alt="unraid_20230531213614.png"></p><h3 id="配置共享文件夹权限" tabindex="-1">配置共享文件夹权限 <a class="header-anchor" href="#配置共享文件夹权限" aria-label="Permalink to &quot;配置共享文件夹权限&quot;">​</a></h3><p>当创建某个共享文件夹后，再次选择共享文件夹，可以修改配置和权限。</p><p>例如在smb安全设置上选择共享为是。就表示把该共享文件夹共享出去。</p><p><img src="'+u+'" alt="unraid_20230531215348.png"></p><p><span style="color:red;">图片上的安全性配置有3种：公开，安全，私有</span></p><ul><li>公开：访客拥有文件读写权限。</li><li>安全：访客拥有文件读取权限。</li><li>私有：访客没有文件的读写权限。</li></ul><h3 id="如何访问共享文件夹" tabindex="-1">如何访问共享文件夹 <a class="header-anchor" href="#如何访问共享文件夹" aria-label="Permalink to &quot;如何访问共享文件夹&quot;">​</a></h3><ol><li>注意：root用户无法访问共享文件夹，只能用其他的用户。所以你需要先创建一个新的用户。使用新用户来访问共享文件夹</li><li>在Windows系统中。选择计算机—》映射网络驱动器</li><li>填入共享文件夹的网络位置。例如\\192.168.0.164\\movies</li><li>点击完成，输入账户密码即可。</li><li>映射成功后，共享文件夹会显示在我的电脑</li></ol><p><img src="'+c+'" alt="unraid_20230531220702.png"></p><h2 id="如何格式化硬盘" tabindex="-1">如何格式化硬盘 <a class="header-anchor" href="#如何格式化硬盘" aria-label="Permalink to &quot;如何格式化硬盘&quot;">​</a></h2><p>格式化硬盘分为两种：一种是格式化新添加的硬盘，这种硬盘之前没有用在unraid上。另一种是格式化正在使用的硬盘。</p><h3 id="格式化新硬盘" tabindex="-1">格式化新硬盘 <a class="header-anchor" href="#格式化新硬盘" aria-label="Permalink to &quot;格式化新硬盘&quot;">​</a></h3><ol><li>添加新的硬盘</li><li>停止阵列</li><li>把新的硬盘添加到unraid系统中</li><li>开启阵列</li><li>在主界面最下方可用看到格式化按钮。点击格式化按钮就可用格式化新的硬盘。</li></ol><h3 id="格式化正在使用的硬盘" tabindex="-1">格式化正在使用的硬盘 <a class="header-anchor" href="#格式化正在使用的硬盘" aria-label="Permalink to &quot;格式化正在使用的硬盘&quot;">​</a></h3><p>当硬盘加入到unraid系统中后，unraid系统正常情况下无法格式化硬盘。需要特殊方法。</p><ol><li>停止阵列</li><li>在主界面点击你要格式化的硬盘，修改该硬盘的设置。</li><li>修改硬盘的文件系统类型设置，从xfs改为其他文件系统。</li><li>然后重启阵列</li><li>重启阵列后，在主界面最下方可以看到该硬盘无法挂载了。</li><li>点击格式化按钮，格式化该硬盘。</li><li>此时可以发现该硬盘格式已经变为其他文件系统了。</li><li>然后再次停止阵列，修改文件系统为xfs，重启阵列，格式化。即可。</li></ol><h2 id="重建磁盘阵列信息" tabindex="-1">重建磁盘阵列信息 <a class="header-anchor" href="#重建磁盘阵列信息" aria-label="Permalink to &quot;重建磁盘阵列信息&quot;">​</a></h2><p>unraid系统中，如果你取下一块硬盘或更换一块硬盘的时候，磁盘阵列是无法启动的。你需要重建磁盘阵列信息配置。</p><p>这一点与群晖不同。群晖是可以随意插拔磁盘的。不会影响系统运行的。</p><p><img src="'+h+'" alt="unraid_20230608231611.png"></p><ol><li>停止阵列</li><li>选项工具-》新配置</li><li>选项全部，点击完成即可。</li></ol><p><span style="color:red;">这个配置只会重置阵列磁盘配置。不会删除磁盘中的数据。</span></p><h2 id="修改unraid系统的host文件" tabindex="-1">修改unraid系统的host文件 <a class="header-anchor" href="#修改unraid系统的host文件" aria-label="Permalink to &quot;修改unraid系统的host文件&quot;">​</a></h2><p>方法1：</p><ol><li>进入unraid系统的终端</li><li>打开host文件。<code>vi /etc/hosts</code></li><li>写入代码。<code>185.199.108.133 raw.github.com</code></li><li>保存并退出hosts文件</li></ol><p>这种方法每次重启后都会丢失，需要重新配置。</p><p>方法2：</p><ol><li>进入终端</li><li>编辑go文件。<code>vi /boot/config/go</code></li><li>写入代码。<code>echo &quot;185.199.108.133 raw.github.com&quot; &gt;&gt; /etc/hosts</code></li><li>保存并退出go文件即可。</li><li>注意重启系统</li></ol><p>这种方法不会重启丢失配置。</p><p>方法2也可以通过文件管理器来编辑go文件。注意go文件在/boot/config目录中。</p><h2 id="设置硬盘休眠" tabindex="-1">设置硬盘休眠 <a class="header-anchor" href="#设置硬盘休眠" aria-label="Permalink to &quot;设置硬盘休眠&quot;">​</a></h2><p>可以在unraid系统中设置硬盘全局休眠。</p><p>下图是全部硬盘休眠的默认值 <img src="'+m+'" alt="unraid_20230615212420.png"></p><p>下图是针对某个硬盘休眠的默认值 <img src="'+_+'" alt="unraid_20230615212556.png"></p><h2 id="我的硬盘和共享文件夹设置。" tabindex="-1">我的硬盘和共享文件夹设置。 <a class="header-anchor" href="#我的硬盘和共享文件夹设置。" aria-label="Permalink to &quot;我的硬盘和共享文件夹设置。&quot;">​</a></h2><p>我目前有2个500g机械硬盘，3个4t机械硬盘，1个250g固态硬盘。</p><ol><li>把固态硬盘作为缓存盘使用。</li><li>把unraid系统自带的4个共享文件夹appdata,domains,isos,system 的硬盘设置全部选中为只在缓存盘。这样docker数据，虚拟机数据，系统数据都会存储在缓存盘中。 <img src="'+g+'" alt="unraid_20230623203035.png"></li><li>每个机械硬盘都有一一对应的共享文件夹，这样可以方便后续维护和管理。</li></ol><p>共享文件夹名称：disk_磁盘SN码_磁盘容量。不适用缓存池，不自动拆分目录，只包含对应的磁盘。 <img src="'+b+'" alt="unraid_20230623205548.png"></p><ol start="4"><li>每个磁盘对应每次共享文件夹，具体的影音数据就存储在里面。 <img src="'+q+'" alt="unraid_20230623205941.png"></li></ol>',84)]))}const C=l(f,[["render",k]]);export{N as __pageData,C as default};
