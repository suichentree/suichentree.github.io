import{_ as t,c as a,o as i,ak as e}from"./chunks/framework.CmzJUe0_.js";const l="/assets/softRouter_20230714215054.Bwrz3vkR.png",o="/assets/softRouter_20230714215252.BytYNnyJ.png",n="/assets/softRouter_20230714215401.DmUkiFKA.png",p="/assets/softRouter_20230714220620.DP3iSNWh.png",r="/assets/softRouter_20230714220807.egGmUYwi.png",h="/assets/softRouter_20230714222505.DRN9R3Fp.png",d="/assets/softRouter_20230714223157.B868qZiU.png",c="/assets/softRouter_20230714223322.bJxM--_S.png",_="/assets/softRouter_20230714224235.Cv-iudQH.png",g="/assets/softRouter_20230714224908.CJ_7ObMz.png",k="/assets/softRouter_20230714225038.CKQHkC0c.png",m="/assets/softRouter_20230715001856.5otrJPkG.png",u="/assets/softRouter_20230715002347.DpsvEGwu.png",P=JSON.parse('{"title":"小米路由器4A千兆版刷机","description":"","frontmatter":{"title":"小米路由器4A千兆版刷机","date":"2023-07-14T00:00:00.000Z","sidebar":"auto","categories":["软路由"],"tags":["软路由"]},"headers":[],"relativePath":"blogs/软路由/小米路由器4A千兆版刷机.md","filePath":"blogs/软路由/小米路由器4A千兆版刷机.md"}'),b={name:"blogs/软路由/小米路由器4A千兆版刷机.md"};function f(F,s,R,y,v,C){return i(),a("div",null,s[0]||(s[0]=[e(`<p>[toc]</p><h1 id="小米路由器4a千兆版刷机" tabindex="-1">小米路由器4A千兆版刷机 <a class="header-anchor" href="#小米路由器4a千兆版刷机" aria-label="Permalink to &quot;小米路由器4A千兆版刷机&quot;">​</a></h1><h2 id="开启ssh和ftp" tabindex="-1">开启SSH和FTP <a class="header-anchor" href="#开启ssh和ftp" aria-label="Permalink to &quot;开启SSH和FTP&quot;">​</a></h2><p>通过某种方式开启小米路由器4A千兆版的SSH服务，然后通过ssh进入到小米路由器4A千兆版的后台。</p><ol><li>提前安装好python环境。</li><li>下载OpenWRTInvasion-0.0.8版本的代码压缩包，并解压。</li></ol><p>下载地址：<a href="https://github.com/acecilia/OpenWRTInvasion/releases/tag/0.0.8" target="_blank" rel="noreferrer">https://github.com/acecilia/OpenWRTInvasion/releases/tag/0.0.8</a></p><ol start="3"><li>Win+R 输入 cmd 打开命令窗口，cd到OpenWRTInvasion-0.0.8目录中。</li><li>运行以下命令，会让你输入路由器IP地址和密码。</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 执行脚本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote_command_execution_vulnerability.py</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入路由器ip地址，一般是192.168.31.1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入路由器密码</span></span></code></pre></div><p><img src="`+l+'" alt="softRouter_20230714215054.png"></p><ol start="5"><li>然后用putty即可访问小米路由器的后台了。</li></ol><ul><li>注意：小米路由器默认ip是192.168.31.1</li><li>端口22，23都可以</li><li>账户密码默认是root/root</li></ul><p><img src="'+o+'" alt="softRouter_20230714215252.png"></p><p><img src="'+n+'" alt="softRouter_20230714215401.png"></p><ol start="6"><li>用xftp工具就可以上传文件到小米路由器后台了</li></ol><p><img src="'+p+'" alt="softRouter_20230714220620.png"></p><p><img src="'+r+`" alt="softRouter_20230714220807.png"></p><h2 id="刷入breed系统" tabindex="-1">刷入breed系统 <a class="header-anchor" href="#刷入breed系统" aria-label="Permalink to &quot;刷入breed系统&quot;">​</a></h2><ol><li>用xftp工具访问路由器后台，将breed-mt7621-pbr-m1.bin文件上传到tmp文件夹内。</li><li>之后执行命令</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /tmp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mtd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> write</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> breed-mt7621-pbr-m1.bin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Bootloader</span></span></code></pre></div><ol start="3"><li>执行完后，访问192.168.1.1。就能进入到breed系统页面了。</li></ol><p>注意：此处的地址不是光猫的地址。</p><p><img src="`+h+'" alt="softRouter_20230714222505.png"></p><ol start="4"><li>备份eeprom和编程器固件，截图mac地址（如果变砖后恢复会用到）</li></ol><p><img src="'+d+'" alt="softRouter_20230714223157.png"></p><p><img src="'+c+'" alt="softRouter_20230714223322.png"></p><h2 id="如何重新进入breed系统界面" tabindex="-1">如何重新进入breed系统界面 <a class="header-anchor" href="#如何重新进入breed系统界面" aria-label="Permalink to &quot;如何重新进入breed系统界面&quot;">​</a></h2><p>当你通过breed刷了其他系统后。再次访问192.168.1.1，就无法进入breed系统界面了。</p><blockquote><p>如何重新进入breed系统界面</p></blockquote><ol><li>断开小米路由器的电源，按下路由器 reset 按钮后重新接入电源。</li><li>等到 mini 路由器的灯开始闪烁时，松开 reset 按钮。</li><li>在电脑上输入 192.168.1.1，进入Breed控制台。</li></ol><h2 id="刷入openwtr系统-不推荐" tabindex="-1">刷入openwtr系统 不推荐 <a class="header-anchor" href="#刷入openwtr系统-不推荐" aria-label="Permalink to &quot;刷入openwtr系统 不推荐&quot;">​</a></h2><ol><li>先进入breed系统界面192.168.1.1，备份eeprom和固件，截图mac地址（变砖后恢复会用到）。</li><li>勾选固件，然后将小米4A的openwtr固件文件openwrt-ramips-mt7621-xiaomi_r4a-squashfs-sysupgrade.bin文件进行上传</li></ol><p><img src="'+_+'" alt="softRouter_20230714224235.png"></p><ol start="4"><li>点击更新，更新过程中请不要切断路由电源。</li><li>更新完成后, 页面并不会自动刷新。需要重新访问小米路由器页面192.168.31.1。账号密码是 root/coolxiaomi</li></ol><p><img src="'+g+'" alt="softRouter_20230714224908.png"></p><p><img src="'+k+'" alt="softRouter_20230714225038.png"></p><h2 id="刷入padavan系统-推荐" tabindex="-1">刷入Padavan系统 推荐 <a class="header-anchor" href="#刷入padavan系统-推荐" aria-label="Permalink to &quot;刷入Padavan系统 推荐&quot;">​</a></h2><p>小米路由器4A千兆版 适合刷入Padavan系统。Padavan系统相比openwrt系统更加简洁一些。</p><ol><li>重新进入breed界面。参考上面</li><li>上传Padavan固件和之前备份的EEPROM固件。</li></ol><p><img src="'+m+'" alt="softRouter_20230715001856.png"></p><ol start="3"><li>更新后，访问地址192.168.2.1。账户密码的admin/admin</li></ol><p><img src="'+u+'" alt="softRouter_20230715002347.png"></p><p>默认的WiFi密码是：1234567890</p>',42)]))}const B=t(b,[["render",f]]);export{P as __pageData,B as default};
