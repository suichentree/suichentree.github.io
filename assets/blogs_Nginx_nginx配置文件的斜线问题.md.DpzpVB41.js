import{_ as i,c as a,o as t,ak as n}from"./chunks/framework.CmzJUe0_.js";const r=JSON.parse('{"title":"关于Nginx配置文件中的斜线(/)问题","description":"","frontmatter":{"title":"关于Nginx配置文件中的斜线(/)问题","date":"2023-02-14T00:00:00.000Z","sidebar":"auto","categories":["服务器"],"tags":["Nginx"]},"headers":[],"relativePath":"blogs/Nginx/nginx配置文件的斜线问题.md","filePath":"blogs/Nginx/nginx配置文件的斜线问题.md"}'),l={name:"blogs/Nginx/nginx配置文件的斜线问题.md"};function p(h,s,e,k,o,E){return t(),a("div",null,s[0]||(s[0]=[n(`<p>[toc]</p><h2 id="关于nginx配置文件中的斜线-问题" tabindex="-1">关于Nginx配置文件中的斜线(/)问题 <a class="header-anchor" href="#关于nginx配置文件中的斜线-问题" aria-label="Permalink to &quot;关于Nginx配置文件中的斜线(/)问题&quot;">​</a></h2><p>在nginx配置文件中 location 和 proxy_pass加不加斜线/，最终的效果是不一样的。</p><blockquote><p>比如说，前端服务访问URL地址是：<code>http://localhost:8080/elecapi/test/home/getInfo</code>，根据关键词elecapi实现请求转发到后台接口</p></blockquote><ol><li>location不加斜线、proxy_pass不加斜线</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">location </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">elecapi {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    proxy_pass </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">实际访问地址：</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314/elecapi/test/home/getInfo</span></span></code></pre></div><ol start="2"><li>location加斜线、proxy_pass不加斜线</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">location </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">elecapi</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    proxy_pass </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">实际访问地址：</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314/elecapi/test/home/getInfo</span></span></code></pre></div><ol start="3"><li>location不加斜线、proxy_pass加斜线</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">location </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">elecapi {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    proxy_pass </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314/;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">实际访问地址：</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314/test/home/getInfo</span></span></code></pre></div><ol start="4"><li>location加斜线、proxy_pass加斜线</li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">location </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">elecapi</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    proxy_pass </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314/;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">实际访问地址：</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//192.168.0.1:13314/test/home/getInfo</span></span></code></pre></div><p>总结：</p><ol><li>当proxy_pass 转发地址最后一个字符不是斜线/的时候。最终地址 = 转发地址 + localtion部分 + 访问URL地址（去除localtion部分）</li><li>当proxy_pass 转发地址最后一个字符是斜线/的时候。最终的地址 = 转发地址 + 访问URL地址（去除localtion部分）</li><li>通俗的讲，当加上斜线/的时候，最终的转发地址会去除localtion部分。 PS；本示例中的localtion部分为 /elecapi。访问URL地址为/test/home/getInfo</li></ol>`,14)]))}const g=i(l,[["render",p]]);export{r as __pageData,g as default};
