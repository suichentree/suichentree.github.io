import{_ as i,c as a,o as n,ak as t}from"./chunks/framework.CmzJUe0_.js";const h="/assets/python_20240929104702.DvpVdkcj.png",p="/assets/python_20240929104844.SxdXji05.png",l="/assets/python_20240929111031.qoB98kpG.png",o=JSON.parse('{"title":"Python使用OCR工具库pytesseract笔记","description":"","frontmatter":{"title":"Python使用OCR工具库pytesseract笔记","date":"2024-09-29T00:00:00.000Z","sidebar":"auto","categories":["Python"],"tags":["Python"]},"headers":[],"relativePath":"blogs/Python/Python使用OCR工具库pytesseract笔记.md","filePath":"blogs/Python/Python使用OCR工具库pytesseract笔记.md"}'),e={name:"blogs/Python/Python使用OCR工具库pytesseract笔记.md"};function k(r,s,F,d,g,y){return n(),a("div",null,s[0]||(s[0]=[t('<p>[toc]</p><h1 id="python使用ocr工具库pytesseract笔记" tabindex="-1">Python使用OCR工具库pytesseract笔记 <a class="header-anchor" href="#python使用ocr工具库pytesseract笔记" aria-label="Permalink to &quot;Python使用OCR工具库pytesseract笔记&quot;">​</a></h1><p>pytesseract是基于Python的OCR工具库。其底层使用的是Google的Tesseract-OCR程序，支持识别图片中的文字，支持jpeg, png, gif, bmp, tiff等图片格式。</p><p>注意：如果要使用pytesseract库，我们需要先安装Tesseract-OCR程序</p><h2 id="什么是ocr" tabindex="-1">什么是OCR <a class="header-anchor" href="#什么是ocr" aria-label="Permalink to &quot;什么是OCR&quot;">​</a></h2><p>OCR（Optical character recognition，光学字符识别）是一种将图像中的手写字符或印刷文本字符，转换为机器编码文本的技术。</p><p>OCR技术可以将图片，纸质文档中的文本转换为数字形式的文本。通过数字方式存储文本数据更容易保存和编辑，可以存储大量数据。</p><h2 id="windows安装tesseract-ocr程序" tabindex="-1">windows安装Tesseract-OCR程序 <a class="header-anchor" href="#windows安装tesseract-ocr程序" aria-label="Permalink to &quot;windows安装Tesseract-OCR程序&quot;">​</a></h2><ol><li>Tesseract-OCR 下载地址： <code>https://digi.bib.uni-mannheim.de/tesseract/</code></li><li>下载最新版即可 <img src="'+h+'" alt="python_20240929104702.png"></li><li>双击exe程序，进行安装。注意安装时可以选择需要的语言包。 <img src="'+p+`" alt="python_20240929104844.png"></li><li>设置环境变量。将系统变量下的Path中添加Tesseract-OCR的安装地址。例如<code>C:\\Program Files\\Tesseract-OCR</code>。</li><li>在windows命令行窗口中输入命令进行测试。</li></ol><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入命令tesseract，如果出现下面则表示安装成功</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tesseract</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Usage:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  tesseract</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --help</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> --help-extra</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> --version</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  tesseract</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --list-langs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  tesseract</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> imagename</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> outputbase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options...] [configfile...]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OCR</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> options:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -l</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LANG[+LANG]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        Specify</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> language</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">used</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> OCR.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NOTE:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> These</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> options</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> occur</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> before</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> any</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configfile.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Single</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> options:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                Show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> message.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --help-extra</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          Show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> extra</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> help</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> advanced</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> users.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             Show</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> information.</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  --list-langs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          List</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> available</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> languages</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tesseract</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> engine.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输入命令，查看tesseract下载的语言包</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tesseract --list-langs</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">List</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> available</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> languages</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (3):</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chi_sim</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eng</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">osd</span></span></code></pre></div><h2 id="安装pytesseract库" tabindex="-1">安装pytesseract库 <a class="header-anchor" href="#安装pytesseract库" aria-label="Permalink to &quot;安装pytesseract库&quot;">​</a></h2><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Pillow库 用于加载图片，并对图片进行处理</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pip install Pillow</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># pytesseract库 用于对图片中的文本进行OCR识别</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pip install pytesseract</span></span></code></pre></div><h2 id="例子" tabindex="-1">例子 <a class="header-anchor" href="#例子" aria-label="Permalink to &quot;例子&quot;">​</a></h2><p>如图为111.png <img src="`+l+`" alt="python_20240929111031.png"></p><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pytesseract</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PIL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Image</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 设置Tesseract可执行文件的路径</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pytesseract.pytesseract.tesseract_cmd </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Program Files</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Tesseract-OCR</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tesseract.exe&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __name__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;__main__&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 加载图片</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    image </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Image.open(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;111.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 对图片文字进行OCR识别</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # chi_sim 表示使用简体中文语言包</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pytesseract.image_to_string(image, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">lang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;chi_sim&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(text)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 识别结果如下</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1 （单选题）《移动式压力容器安全技术监察规程》规定: 移动式压力容器长期停用，是指停用 () 及以上。</span></span></code></pre></div><h2 id="多语言例子" tabindex="-1">多语言例子 <a class="header-anchor" href="#多语言例子" aria-label="Permalink to &quot;多语言例子&quot;">​</a></h2><p>若图片中包含了多种语言，则可以设置多语言。</p><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># chi_sim+eng 表示为简体中文+英文</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">text </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pytesseract.image_to_string(image, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">lang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;chi_sim+eng&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div>`,18)]))}const E=i(e,[["render",k]]);export{o as __pageData,E as default};
